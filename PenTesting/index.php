<?php
session_start();

require_once ("modelo/db.php");
// Incluir todos los controladores
foreach ( glob ( "controlador/*.php" ) as $file ) {
	require_once $file;
}

// Si no existe el parámetro vista en la URL se carga la página de login
if (! isset ( $_GET ['vista'] )) {
	require ("vista/index.html");
}

// Si existe se invoca al controlador correspondiente
else {
	$vista = $_GET ['vista'];
	switch ($vista){
		case"comprobar":
			comprobar();
			break;
		case "salir":
			logout();
			break;
		case "mostrar":
			mostrar();
			break;
		case "transferencia":
			trans();
			break;
		case"saldo":
			saldo();
			break;
		case "cargo":
			cargo();
			break;
		case "abono":
			abono();
			break;
		case "comprobar1":
			mostrar();
			require_once("vista/Menu.html");
			break;
		case "comprobar2":
		    if($_SESSION["admin"]==true){
			require_once ("vista/admin.html");
		    }else{
		        logout();
		    }
			break;
		case "mostrar1":
			mostrar1();
			break;
		case "cargoadmin":
			cargoadmin();
			break;
		case "abonoadmin":
			abonoadmin();
			break;
		case "registrar":
			registrar();
			break;
		case "activar":
			activar();
			break;
		case "borrar":
			borrar();
			break;
		case "prestamos":
			prestamos();
			break;
		case "tramite":
			tramite();
			break;
		case "index":
			require("vista/index.html");
			break;
		case "creditos":
			creditos();
			break;
		case "aceptar":
			aceptar();
			break;
		case "denegar":
			denegar();
			break;
		case "modificarDatos":
		    modificarDatos();
		    break;
		case "credito":
		    modificarCredito();
		    break;
		case "modificarCredito":
		    require("vista/modificarCredito.php");
		    break;
		case "vermodi":
		  vermodi();
		  break;
	}
	
}
?>